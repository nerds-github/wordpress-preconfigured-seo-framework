"use strict";window.tsfLe=function(){function a(){tsfTT.triggerReset()}function b(a){const b=JSON.parse(document.getElementById(`tsfLeData[${a}]`)?.dataset.le||0)||{};for(const c in b){const a=document.getElementById("autodescription-quick[%s]".replace("%s",c));if(a)if(b[c].isSelect){tsf.selectByValue(a,b[c].value);const d=a.querySelector("[value=\"0\"]");d&&(d.innerHTML=d.innerHTML.replace("%s",tsf.escapeString(tsf.decodeEntities(b[c].default))))}else a.value=tsf.decodeEntities(b[c].value),b[c].placeholder&&(a.placeholder=tsf.decodeEntities(b[c].placeholder))}}function c(a){return b(a)}function d(a){return JSON.parse(document.getElementById(`tsfLePostData[${a}]`)?.dataset.lePostData||0)||{}}function e(a){const b=(a.originalEvent||a).target,c=b.dataset.tsfTitleId;let d="",e="public";switch(e="keep_private"===b.name?b.checked?"private":"public":b.value?.length?"password":"public",e){case"password":d=tsfTitle.protectedPrefix;break;case"private":d=tsfTitle.privatePrefix;break;default:case"public":d=""}tsfTitle.updateStateOf(c,"prefixValue",d)}function f(a){const b=(a.originalEvent||a).target,c=b.dataset?.tsfTitleId,d=b.value?.trim()||"",e=b.dataset?.termPrefix?.trim()||"";let f=(tsfTitle.stripTitleTags?tsf.stripTags(d):d)||tsfTitle.untitledTitle;e.length&&(window.isRtl?f=`${f} ${e}`:f=`${e} ${f}`),f=tsf.escapeString(tsf.decodeEntities(f.trim())),tsfTitle.updateStateOf(c,"defaultTitle",f)}function g(a){const b="autodescription-quick[doctitle]",c=document.getElementById(b);if(!c)return;tsfTitle.setInputElement(c);const g=JSON.parse(document.getElementById(`tsfLeTitleData[${a}]`)?.dataset.leTitle||0);g&&(tsfTitle.updateStateOf(b,"allowReferenceChange",!g.refTitleLocked),tsfTitle.updateStateOf(b,"defaultTitle",g.defaultTitle.trim()),tsfTitle.updateStateOf(b,"addAdditions",g.addAdditions),tsfTitle.updateStateOf(b,"additionValue",g.additionValue.trim()),tsfTitle.updateStateOf(b,"additionPlacement",g.additionPlacement));let h=document.getElementById(`edit-${a}`);h&&(h.querySelectorAll("[name=post_password]").forEach(a=>{a.dataset.tsfTitleId=b,a.addEventListener("input",e),a.dispatchEvent(new CustomEvent("input"))}),h.querySelectorAll("[name=keep_private]").forEach(a=>{a.dataset.tsfTitleId=b,a.addEventListener("click",e),a.dispatchEvent(new CustomEvent("click"))}),h.querySelectorAll("[name=post_title]").forEach(c=>{c.dataset.tsfTitleId=b,d(a).isFront||(c.addEventListener("input",f),c.dispatchEvent(new CustomEvent("input")))}),h.querySelectorAll("[name=name]").forEach(a=>{a.dataset.tsfTitleId=b,a.dataset.termPrefix=g.termPrefix||"",a.addEventListener("input",f),a.dispatchEvent(new CustomEvent("input"))})),tsfTT.triggerReset()}function h(a){const b="autodescription-quick[description]",c=document.getElementById(b);if(c){tsfDescription.setInputElement(c);const d=JSON.parse(document.getElementById(`tsfLeDescriptionData[${a}]`)?.dataset.leDescription||0);d&&(tsfDescription.updateStateOf(b,"allowReferenceChange",!d.refDescriptionLocked),tsfDescription.updateStateOf(b,"defaultDescription",d.defaultDescription.trim())),tsfTT.triggerReset()}}function i(){document.addEventListener("tsfLeDispatchUpdate",k),document.addEventListener("tsfLeUpdated",a)}function j(){let a,d;a=window.inlineEditPost?.edit,a&&(window.inlineEditPost.edit=function(c){let d=a.apply(this,arguments);return("object"==typeof c&&(c=window.inlineEditPost?.getId(c)),!c)?d:(b(c),g(c),h(c),window.tsfC?.resetCounterListener(),d)}),d=window.inlineEditTax?.edit,d&&(window.inlineEditTax.edit=function(a){let b=d.apply(this,arguments);return("object"==typeof a&&(a=window.inlineEditTax?.getId(a)),!a)?b:(c(a),g(a),h(a),window.tsfC?.resetCounterListener(),b)})}const k=tsfUtils.debounce(()=>{document.dispatchEvent(new CustomEvent("tsfLeUpdated"))},50);return{load:()=>{document.body.addEventListener("tsf-onload",i),document.body.addEventListener("tsf-onload",j)}}}(),window.tsfLe.load();
