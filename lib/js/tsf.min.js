"use strict";window.tsf=function(a){function b(a){return a?.length?(m||=new DOMParser,m.parseFromString(a.replace?.(/[<>\\]/g,a=>n[a])||"","text/html").documentElement.textContent):""}function c(a){if(!a?.length)return"";let b={"&":"&#x26;","<":"&#x3C;",">":"&#x3E;",'"':"&#x22;","'":"&#x27;","\\":"&#x5C;","/":"&#x2F;"};return a.replace?.(/[&<>"'\\\/]/g,a=>b[a])||""}function d(){let b=a(".postbox[id^=\"autodescription-\"], .postbox#tsf-inpost-box");a(document).on("postbox-toggled",(c,d)=>{if(!d||!b.is(d))return;d=a(d);let e=d.find("input:invalid, select:invalid, textarea:invalid");e.length&&setTimeout(()=>{if(d.is(":hidden")){let b=d.attr("id");a(`#${b}-hide`).trigger("click.postboxes")}else if(d.hasClass("closed"))d.find(".hndle, .handlediv").first().trigger("click.postboxes");else{let b=e.get(0);a(b).is(":visible")&&b.reportValidity()}})})}function e(){const b=b=>{const c=a(b.target).closest(".tsf-notice").first(),d=b.target.dataset&&b.target.dataset.key||void 0,e=b.target.dataset&&b.target.dataset.nonce||void 0;c.fadeTo(100,0,()=>{c.slideUp(100,()=>{c.remove()})}),d&&e&&wp.ajax.post("tsf_dismiss_notice",{tsf_dismiss_key:d,tsf_dismiss_nonce:e})},c=()=>{document.querySelectorAll(".tsf-dismiss").forEach(a=>{a.addEventListener("click",b)})};document.body.addEventListener("tsf-reset-notice-listeners",c),c()}function f(){o.forEach(([a,b])=>{a.dispatchEvent(new Event(b))})}function g(){s(),r?t():(r=!0,dispatchEvent(new CustomEvent("tsf-resize")))}function h(){u||(u=!0,document.body.dispatchEvent(new CustomEvent("tsf-interactive")))}function i(){document.body.dispatchEvent(new CustomEvent("tsf-ready"))}function j(){document.body.dispatchEvent(new CustomEvent("tsf-onload"))}function k(){v||(document.removeEventListener("DOMContentLoaded",k),document.removeEventListener("load",k),j(),d(),e(),i(),v=!0,document.addEventListener("load",h),setTimeout(h,100))}const l="undefined"!=typeof tsfL10n&&tsfL10n;let m,n={"<":"&#x3C;",">":"&#x3E;","\\":"&#x5C;"},o=new Set,p=!1;const q=tsfUtils.debounce(()=>document.body.dispatchEvent(new CustomEvent("tsf-reset-notice-listeners")),100);let r=!1;const s=tsfUtils.debounce(()=>{r=!1},50),t=tsfUtils.debounce(g,50);let u=!1,v=!1;return Object.assign({load:()=>{"complete"!==document.readyState&&("loading"===document.readyState||document.documentElement.doScroll)?(document.addEventListener("DOMContentLoaded",k),document.addEventListener("load",k)):setTimeout(k()),window.addEventListener("resize",g)}},{stripTags:function b(a){return a.length&&a.replace(/(<([^>]+)?>?)/ig,"")||""},decodeEntities:b,escapeString:c,ampHTMLtoText:function b(a){return a.replace(/&amp;|&#x0{0,3}26;|&#38;/gi,"&")},sDoubleSpace:function b(a){return a.replace(/\s{2,}/g," ")},sSingleLine:function b(a){return a.replace(/[\x0A\x0B\x0C\x0D]/g," ")},sTabs:function b(a){return a.replace(/\x09/g," ")},coalesceStrlen:function b(a){return a?.length?a:null},getStringLength:function b(a){let d,f=0;return a.length&&(d=document.createElement("span"),d.innerHTML=c(a).trim(),f=d.childNodes?.[0].nodeValue.length||0),+f},selectByValue:function c(a,b){if(!a instanceof HTMLSelectElement)return;let d;for(let c=0;c<a.options.length;++c)if(b==a.options[c].value){d=c;break}if(void 0===d)for(let c=0;c<a.options.length;++c)if(b==a.options[c].innerHTML){d=c;break}void 0!==d&&(a.selectedIndex=d)},convertJSONResponse:function b(a){let c=1===a?.json;if(!c){let b=a;try{a=JSON.parse(a),c=!0}catch(a){c=!1}c||(a=b)}return a},setAjaxLoader:function c(b){a(b).toggleClass("tsf-loading")},unsetAjaxLoader:function d(b,c){let e="tsf-success",f=2500;c||(e="tsf-error",f=5e3),a(b).removeClass("tsf-loading").addClass(e).fadeOut(f)},resetAjaxLoader:function c(b){a(b).stop(!1,!0).empty().prop("class","tsf-ajax").show()},deprecatedFunc:function d(a,b,c){b=b?` since The SEO Framework ${b}`:"",c=c?` Use ${c} instead.`:"",void 0},triggerNoticeReset:q,dispatchAtInteractive:function c(a,b){o.add([a,b]),p||(document.body.addEventListener("tsf-interactive",f),p=!0)}},{l10n:l})}(jQuery),window.tsf.load();
