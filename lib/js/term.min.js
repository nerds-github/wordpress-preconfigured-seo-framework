"use strict";window.tsfTerm=function(){function a(){const a=document.getElementById("autodescription-meta[noindex]"),b=document.getElementById("autodescription-meta[canonical]"),c=new Map,d=2;let e=0;tsfCanonical.setInputElement(b);const f=JSON.parse(document.getElementById(`tsf-canonical-data_${i}`)?.dataset.state||0);f&&(tsfCanonical.updateStateOf(i,"allowReferenceChange",!f.refCanonicalLocked),tsfCanonical.updateStateOf(i,"preferredScheme",f.preferredScheme.trim()),tsfCanonical.updateStateOf(i,"urlStructure",f.urlStructure)),tsfCanonical.enqueueTriggerUnregisteredInput(i);const g=document.querySelector("[name=taxonomy]")?.value||"category",h=tsfUtils.debounce(()=>{tsfCanonical.updateStateOf(i,"showUrlPlaceholder",!(e&d)),tsfCanonical.updateStateOf(i,"urlDataParts",Object.fromEntries(c.entries()))},1e3/60);if(b){const a=document.getElementById("slug"),b=document.getElementById("name"),d=()=>{c.set(`%${g}%`,a.value.length?a.value:b.value),h()};a.addEventListener("change",d),b.addEventListener("change",d),d()}const j=b=>{let c="";switch(+b){case 0:c=a.dataset.defaultUnprotected;break;case-1:c="index";break;case 1:c="noindex"}"noindex"===c?e|=d:e&=~d,h()};a&&(a.addEventListener("change",a=>j(a.target.value)),j(a.value))}function b(){const a=document.getElementById(g);if(!a)return;tsfTitle.setInputElement(a);const b=JSON.parse(document.getElementById(`tsf-title-data_${g}`)?.dataset.state||0);b&&(tsfTitle.updateStateOf(g,"allowReferenceChange",!b.refTitleLocked),tsfTitle.updateStateOf(g,"defaultTitle",b.defaultTitle.trim()),tsfTitle.updateStateOf(g,"addAdditions",b.addAdditions),tsfTitle.updateStateOf(g,"useSocialTagline",!!(b.useSocialTagline||!1)),tsfTitle.updateStateOf(g,"additionValue",b.additionValue.trim()),tsfTitle.updateStateOf(g,"additionPlacement",b.additionPlacement));const c=tsf.escapeString(f.params.termPrefix),d=document.getElementById("autodescription-meta[title_no_blog_name]");d&&(d.addEventListener("change",a=>{let b=!a.target.checked;f.params.additionsForcedDisabled&&(b=!1),tsfTitle.updateStateOf(g,"addAdditions",b)}),d.dispatchEvent(new Event("change")));const e=a=>{a=a?.trim();let b=tsfTitle.stripTitleTags?tsf.stripTags(a):a;b||=tsfTitle.untitledTitle;let d;d=window.isRtl?`${b} ${c}`:`${c} ${b}`,tsfTitle.updateStateOf(g,"defaultTitle",d)};document.querySelector("#edittag #name")?.addEventListener("input",a=>e(a.target.value)),tsfTitle.enqueueUnregisteredInputTrigger(g)}function c(){const a=document.getElementById(h);if(a){tsfDescription.setInputElement(a);const b=JSON.parse(document.getElementById(`tsf-description-data_${h}`)?.dataset.state||0);b&&tsfDescription.updateStateOf(h,"defaultDescription",b.defaultDescription.trim()),tsfDescription.enqueueUnregisteredInputTrigger(h)}}function d(){tsfSocial.setInputInstance(j,g,h);const a=JSON.parse(document.getElementById(`tsf-social-data_${j}`)?.dataset.settings||0);a&&(tsfSocial.updateStateOf(j,"addAdditions",a.og.state.addAdditions),tsfSocial.updateStateOf(j,"defaults",{ogTitle:a.og.state.defaultTitle,twTitle:a.tw.state.defaultTitle,ogDesc:a.og.state.defaultDesc,twDesc:a.tw.state.defaultDesc}))}function e(){a(),b(),c(),d()}const f=tsfTermL10n,g="autodescription-meta[doctitle]",h="autodescription-meta[description]",i="autodescription-meta[canonical]",j="autodescription_social_tt";return Object.assign({load:()=>{document.body.addEventListener("tsf-onload",e)}},{l10n:f})}(),window.tsfTerm.load();
